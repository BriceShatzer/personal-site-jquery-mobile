
<!DOCTYPE html> 
<html>
<head>
	<title>Page Title</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.css" />
	<link rel="stylesheet" href="/tools/font-awesome/css/font-awesome.min.css" />
	<script src="/tools/underscore.min.js"></script>
	<script src="/tools/jquery.min.js"></script>
	<script src="https://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.js"></script>


<script>
function test(fact){
	if ( !fact ){ console.log(fact+' is false') }
	else if ( fact ){ console.log(fact+' is true') }
}
</script>

<style>
.ui-header {border:none;}
.ui-header .ui-btn {font-size: 16px;}
.ui-header .ui-btn .fa {font-size: 1.2em;float:right;}
.ui-header .skillIndicator {float:right;}
.ui-listview>.ui-li-static {padding-top: 0; padding-bottom: 0}
.ui-listview>li h1 {margin-top: 0; margin-bottom: 0}
.ui-listview>li div.ui-collapsible-content {
	border:none; 
}
.ui-listview>li .ui-collapsible-heading * {border: none; width: 100%;}
.ui-listview>li .ui-collapsible-heading *:hover {background-color: #333;}
.ui-listview>li div.ui-collapsible-content a {border-top: none; padding-left: 25px}

#sectionNav{
	background-color: teal;
	height: 25px;	
}

/* panel specific styling */
#nav {top:25px;}
#nav div.ui-panel-inner {overflow: hidden;}
#nav h1 {float:left; margin: 2px 5px;}
#nav h1.ui-collapsible-heading {width: 100%; padding-left: 10px;}
#nav h1 a.ui-collapsible-heading-toggle {width: 100%;padding-left:2em;}
#nav .ui-listview>li div.ui-collapsible-content {border:none;}

#nav li {overflow:hidden;}
#nav div.ui-collapsible>h1 {float:none; line-height: 1em}
#nav div.ui-collapsible>h1 a {background-color:#2a2a2a; padding-top:2px;padding-bottom: 2px;}
#nav div.ui-collapsible-content {padding: 0em 1em;}
#nav div.skillIndicator {margin:2px 5px;}
#nav div.skillIndicator i {margin-left: 3px;}
</style>
</head>
<body>


<!-- original place holding header 
<div data-role="header">
	<div id="nav"  data-role="panel" data-position="left" data-display="push" data-dismissible="false" data-position-fixed="true">
		<ul data-role="listview">
			<li><a href="#bar">Things  <i class="fa fa-star"></i></a></li>
			<li>
					<div data-role="collapsible" data-inset="false">
					<h1>Frameworks</h1>
						<ul data-role="listview" data-inset="false">
							<li><a href="#"><h1>Item 1</h1></a></li>
							<li><a href="#"><h1>Item 2</h1></a></li>
						</ul>
					</div>
			</li>
			<li><a href="#"><h1>HTML 5</h1></a></li>
			<li><a href="#"><h1>Other Item</h1></a></li>
		</ul>
	</div>
</div>-->
<!-- /header -->
<div data-role="header">
	<div id="sectionNav"><a href="#">Technical</a> | <a href="#">Creative</a> | <a href="#">Me</a> </div>
	<div id="nav"  data-role="panel" data-position="left" data-display="push" data-dismissible="false" data-position-fixed="true">
		<ul data-role="listview">			
		</ul>
	</div>
</div>


<!-- Start of first page -->
<section data-role="page" id="foo" class="ui-responsive-panel" data-theme="b">
	<div role="main" class="ui-content">
		<ul data-role="listview">
			
			<li><a href="#bar">Things</a></li>
			<li>
					<div data-role="collapsible" data-inset="false">
					<h1>Frameworks</h1>
						<ul data-role="listview" data-inset="false">
							<li><a href="#"><h1>Item 1</h1></a></li>
							<li><a href="#"><h1>Item 2</h1></a></li>
						</ul>
					</div>
			</li>
			<li><a href="#"><h1>HTML 5</h1></a></li>
			<li><a href="#"><h1>Other Item</h1></a></li>
		</ul>
	</div><!-- /content -->

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</section><!-- /page -->




<!-- Start of second page -->
<section data-role="page" id="bar">

	<div role="main" class="ui-content">
		<h1 style="float:left;"><a href="#nav">+Foo</a></h1>
		<p>I'm the second in the source order so I'm hidden when the page loads. I'm just shown if a link that references my id is beeing clicked.<i class="fa fa-bullhorn" style="font-size:24px;color:blue"></i> </p>
		<p><a href="#foo">Back to foo</a></p>
	</div><!-- /content -->

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</section><!-- /page -->

<script>

$(function(){
	$( "[data-role='header']" ).toolbar({ theme: "b" });
});

var skills;
function generateDisplayValues(object) {
	object.url = encodeURIComponent(object.name);
	var skillIndicator;
	switch (object.rank){
		case 3: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i>'; break;
		case 2.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-half-o"></i>'; break;
		case 2: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-o"></i>'; break;
		case 1.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></li>'; break;
		case 1: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
		case 0.5: skillIndicator = '<i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
		default: skillIndicator = '<i class="fa fa-star-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>';
	}
	object.skillIndicator = skillIndicator;
}


$.getJSON('/skills.json', function(data) { 
//----- start .getJSON call back 
	skills = data;
	function buildMenuItems(array){
	/* More the likely, this probably becomes an anonymous function of some kind. I don't think their is a reason to isolate
	this as a named function*/

		$.each(array, function() {
			var menuItem;
	//this probably becomes a view builder. What benifit is there to generate & attach the display varibles vs generating the display varibles and building the item? 
	//var name = object.name;
			
			if(this.childItems){
				var listOfChildItems = $('<ul data-role="listview" data-inset="false"></ul>');
				$.each(this.childItems, function() {
					var childObject = this;
					generateDisplayValues(childObject);
					$('<li></li>')
						.append( $('<h1>'+childObject.name+'</h1>') )
						.append( $('<div class="skillIndicator">'+childObject.skillIndicator+'</div>') )
						.appendTo(listOfChildItems);
					});
				
				menuItem = $('<div data-role="collapsible" data-inset="false"></div>');
				menuItem//might be able to remove this line and still have it function correctly
					.append( $('<h1>'+this.name+'</h1>') )
					.append(listOfChildItems);

			} else {
				generateDisplayValues(this);
				menuItem = $('<li></li>')
				menuItem
					.append( $('<a href="#'+this.url+'">'+this.name+'</a>') )
					.append( $('<div class="skillIndicator">'+this.skillIndicator+'</div>') );
			}
			$('#nav div.ui-panel-inner>ul').append(menuItem);
	/*----- orginal first attempt and build function 	menuItem = $('div')	}	
	else { 	menuItem = $('<a href="#'+url+'"></a>').append( $('<div class="skillIndicator">'+skillIndicator+'</div>') )	}
	*/
		});
	}
buildMenuItems(skills);
	/*----- orginal first attempt at handling the array 
	$.each(skills, function() {
	//------ start handle each item within the returned object
		generateDisplayValues(this);
	// deciding to what whether to build a folder item or a an build folder item or a display link/node
	//------ end handle each item within the returned object
	});

	*/
//----- end .getJSON call back 
});



/* -------------
old, unused stuff
	/*----- skill indicator as if else statements 

function setSkillIndicator(rank) {
if(rank = 3){ skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i>'}
else if (rank = 2.5){ skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-half-o"></i>'}
else if (rank = 2){ skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-o"></i>'}
else if (rank = 1.5){ skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></li>'}
else if (rank = 1){ skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'}
else if (rank = 0.5){ skillIndicator = '<i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'}
else { skillIndicator = '<i class="fa fa-star-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'}
}
*/
	/*----- skill indicator as a switchcase statement 
switch (this.rank){
	case 3: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i>'; break;
	case 2.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-half-o"></i>'; break;
	case 2: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-o"></i>'; break;
	case 1.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></li>'; break;
	case 1: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
	case 0.5: skillIndicator = '<i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
	default: skillIndicator = '<i class="fa fa-star-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>';
}
*/
	// _.template('<li><a href="#"><h1><%= name %></h1</a></li>')
	/* ----- sets display attributes. moved into .getJSON callback 
$.each(skills, function() {
	var name = this.name;
	var url = encodeURIComponent(name);
	var skillIndicator;
	switch (this.rank){
		case 3: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i>'; break;
		case 2.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-half-o"></i>'; break;
		case 2: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-o"></i>'; break;
		case 1.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></li>'; break;
		case 1: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
		case 0.5: skillIndicator = '<i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
		default: skillIndicator = '<i class="fa fa-star-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>';
	}
*/
//--------------


/* -------------
start of page build section

	$('<section data-role="page" id="'+url+'"></section>')

	$('<section data-role="page"></section>')
		.attr('id', url);

	$('<div role="main" class="ui-content"></div>')



---- end of build section */

</script>

</body>
</html>