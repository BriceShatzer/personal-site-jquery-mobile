<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BriceShatzer.com | Development</title>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700|Lato' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.css">        
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <script src="/utilities/lodash.min.js"></script>
    <script src="/utilities/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.js"></script>
    <script src="/utilities/fancybox/jquery.fancybox.pack.js"></script>
    <script src="/data.js"></script>
    <script>
    function test(fact){
       if ( !fact ){ console.log(fact+' is false') }
        else if ( fact ){ console.log(fact+' is true') }
    }
    </script>    
</head>
<body>
    <div data-role="header">
        <div id="navigation">
            <a href="/development.html">Development</a> | <a href="/creative.html">Creative & Design</a> | <a href="/writing.html">Writing</a> | <a href="/tools.html">Tools</a> | <a href="#about">Me</a>
        </div>
        <div class="quickInfo_open-arrow"><span>Info</span></div>
    </div> 
    <div id="quickInfo" data-role="panel" data-position="left" data-display="push" data-dismissible="false" data-position-fixed="true">
        <div class="ui-body" itemscope itemtype="http://schema.org/person">
            <ul data-role="listview">
                <li id="title"><h1 style="" itemprop="name">Brice Shatzer</h1></li>
                <li id="resume"><a href="#" target="_blank"><span class="fa fa-fw fa-file-pdf-o"></span><span style="">View Resume<span></a></li>
                <li id="email"><span class="fa fa-fw fa-envelope" style=""></span> <span itemprop="email">Brice.Shatzer@gmail.com</span></li>
                <li id="cellphone" style=""><span class="fa fa-fw fa-mobile" style=""></span><a href="tel:+13192392470" itemprop="telephone">319-239-2470</a></span></li>
            <!--
                <li style="overflow:hidden;">
                    <span class="fa fa-graduation-cap" style="font-size:2.8em;"></span>
                    <div style="float:right;width:9em;text-align:center;">
                        Carthage College<br>
                        <span style="font-size:0.8em">B.A. Communication / Digital Media</span>
                    </div>
                </li>
            --> 
                <li style="" id="icons">
                    <a href="http://www.linkedin.com/pub/brice-shatzer/16/690/b26/" target="_blank"><span class="fa fa-linkedin" /></a>
                    <a href="https://twitter.com/_shatzer" target="_blank"><span class="fa fa-twitter" /></a>
                    <a href="https://github.com/briceshatzer" target="_blank"><span class="fa fa-github" /></a>
                </li>
            </ul>

            <br>

        </div>
        <div class="quickInfo_close-arrow" style=""><span>Close</span></div>
    </div><!-- end header --> 


<section data-role="page" class="ui-responsive-panel">
    <div role="main" class="ui-content" id="developmentContent" ></div><!-- /content -->



<script type="text/javascript">
var $container = $('#developmentContent');

var tech_list=[];
_.forEach(tech_data, function(obj) {
    if(obj.childItems){
        _.forEach(obj.childItems, function(child) { tech_list.push(child) });
    } else { tech_list.push(obj) } 
});

$( "body" ).one( "pagecontainerchange", function( event, ui ) {console.log("pagecontainerchange event from development.html");
    url = $.mobile.path.getLocation();
    var query = (/\?/.test(url)) ? decodeURIComponent(url.slice(url.indexOf('?')+1)) : false;
    console.log(query);

    if( /development.html/.test($.mobile.path.getLocation()) ){
    //current page in development.html family 
        if(!query){
            console.log('no query');
            var $workspace = $('section[data-url="/development.html"]').find('#developmentContent');
            if( !$workspace.html() ){ 
                console.log('workspace has no html');
                function generateDisplayValues(object) { object.url = encodeURIComponent(object.name) }

                var tech_blocks = [];// = $('<div></div>');

                $.each(tech_data, function() {//can probably remove indexInArray
                    
                    var $tech_class = $('<div class="ui-body"></div>');

                    if(this.childItems){
                        $tech_class.append('<h2>'+this.name+'</h2>')
                        var $listOfChildItems = $('<ul></ul>');
                        $.each(this.childItems, function() {
                            var childObject = this;
                            generateDisplayValues(childObject);
                            $('<li></li>')
                                .append( '<h3><a href="/development.html?'+childObject.url+'">'+childObject.name+'</a></h3>' )
                                .appendTo( $listOfChildItems );
                            });
                        $tech_class.append( $listOfChildItems );
                    } else {
                        generateDisplayValues(this);
                        $tech_class.append( '<h2><a href="/development.html?'+this.url+'">'+this.name+'</a></h2>' );
                    }
                    tech_blocks.push( $tech_class );

                });
                $tech = $('<div class="ui-grid-a ui-responsive"></div>')
                
                $.each(tech_blocks, function(i) { 
                    var className = i%2==0 ? "ui-block-a" : "ui-block-b" ;
                    $('<div class='+className+'></div>').append(this).appendTo($tech);
                });
               
                $tech.appendTo('#developmentContent');
            }
        } else {
            console.log('query exists');
            //-- query has value 
            var relevantTech = _.find(tech_list, function(tech){ return tech.name.toLowerCase() == query.toLowerCase()  });
            console.dir(relevantTech);

            var portfolioExamples = _.filter(portfolioPrincipal, function(obj) { 
                var match;
                    $.each(obj.tech, function(){
                        if( this.toLowerCase() == query.toLowerCase() ){ match=true; } 
                    }) 
                return match === true;
            });
            
            var maintenanceExamples = _.filter(portfolioMaintained, function(obj) { 
                var match;
                    $.each(obj.tech, function(){
                        if( this.toLowerCase() == query.toLowerCase() ){ match=true; } 
                    }) 
                return match === true;
            });            

            var $workspace = $('section[data-url="'+url.slice( url.lastIndexOf('/'))+'"]').find('#developmentContent');
            if( !$workspace.html() ){ 
                //build top
                $workspace_top = $('<div class="devTopic_top">');
                $workspace_top.append('<h1>'+relevantTech.name+'</h1>'); 
                if(relevantTech.notes){$workspace_top.append('<p class="notes">'+relevantTech.notes+'</p>'); }
                $workspace.append($workspace_top);
                
                //build bottom
                if(portfolioExamples.length || maintenanceExamples.length){
                    var $allPriorWork = $('<div class="ui-grid-a ui-responsive"><h2>Prior Work Utilizing This Technology:</h2></div>');

                    if(portfolioExamples.length){
                        var $principalWork = $('<div class="ui-body ui-body-a ui-corner-all"><h3>Principally Involved in Creation</h3><ul></ul></div>');              

                        $.each(portfolioExamples, function(i, obj) {
                            $('<li><a href="/work.html?'+encodeURIComponent(obj.name)+'">'+obj.name+'</li>').appendTo( $principalWork.children('ul') );
                        });
                    
                        $('<div class="'+ ( (maintenanceExamples.length)?"ui-block-a":"" ) +'"></div>')
                            .append( $principalWork )
                            .appendTo($allPriorWork);
                    }
                    
                    if(maintenanceExamples.length){
                        var $maintenance = $('<div class="ui-body ui-body-a ui-corner-all"><h3>Helped to Maintain</h3><ul></ul></div>');
                        $.each(maintenanceExamples, function(i, obj) {
                            $('<li><a href="'+obj.link+'">'+obj.name+'</li>').appendTo( $maintenance.children('ul') );
                        });

                        $('<div class="'+ ( (portfolioExamples.length)?"ui-block-b":"" ) +'"></div>')                        
                            .append($maintenance)
                            .appendTo($allPriorWork);                                                  
                    }

                $allPriorWork.appendTo($workspace);
                $workspace.append('<div class="backbutton"><a href="/development.html"><span class="fa fa-bars"></span> <span>Return to Technology List</span></a></div>');
                }
            }
        //-- end query has value 
        }
    //  current page in development.html family 
    }
//-- end pagecontainerchange event handler
});    
</script>
</section><!-- /page -->

</body>
<script type="text/javascript" src="/navigation.js"></script>
</html>
